{"version":3,"sources":["../../../src/utils/logger/index.js"],"names":["combine","format","timestamp","json","prettyPrint","colorize","simple","transportHelpers","transports","Console","TransportMongoDB","host","DataBaseConfig","port","dbName","logger","level","exceptionHandlers","concat","File","filename"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;IAEQA,O,GAA4DC,e,CAA5DD,O;IAASE,S,GAAmDD,e,CAAnDC,S;IAAWC,I,GAAwCF,e,CAAxCE,I;IAAMC,W,GAAkCH,e,CAAlCG,W;IAAaC,Q,GAAqBJ,e,CAArBI,Q;IAAUC,M,GAAWL,e,CAAXK,M;AAEzD,IAAMC,gBAAgB,GAAG,CACrB,IAAIC,oBAAWC,OAAf,CAAuB;AACnBR,EAAAA,MAAM,EAAEK,MAAM;AADK,CAAvB,CADqB,EAIrB,IAAII,yBAAJ,CAAqB;AACjBC,EAAAA,IAAI,EAAEC,gBAAeD,IADJ;AAEjBE,EAAAA,IAAI,EAAED,gBAAeC,IAFJ;AAGjBC,EAAAA,MAAM,EAAEF,gBAAeE;AAHN,CAArB,CAJqB,CAAzB;AAYA,IAAMC,MAAM,GAAG,2BAAa;AACxBC,EAAAA,KAAK,EAAE,MADiB;AAExBf,EAAAA,MAAM,EAAED,OAAO,CACXK,QAAQ,EADG,EAEXF,IAAI,EAFO,EAGXD,SAAS,CAAC;AACND,IAAAA,MAAM,EAAE;AADF,GAAD,CAHE,EAMXG,WAAW,EANA,CAFS;AAUxBI,EAAAA,UAAU,EAAED,gBAVY;AAWxBU,EAAAA,iBAAiB,EAAEV,gBAAgB,CAACW,MAAjB,CAAwB,CACvC,IAAIV,oBAAWW,IAAf,CAAoB;AAAEC,IAAAA,QAAQ,EAAE;AAAZ,GAApB,CADuC,CAAxB;AAXK,CAAb,CAAf;eAgBeL,M","sourcesContent":["import { createLogger, format, transports } from 'winston';\nimport DataBaseConfig from '../../models/config';\nimport TransportMongoDB from './transportMongoDB';\n\nconst { combine, timestamp, json, prettyPrint, colorize, simple } = format;\n\nconst transportHelpers = [\n    new transports.Console({\n        format: simple()\n    }),\n    new TransportMongoDB({\n        host: DataBaseConfig.host,\n        port: DataBaseConfig.port,\n        dbName: DataBaseConfig.dbName\n    }),\n];\n\n// 配置日志生成对象\nconst logger = createLogger({\n    level: 'info',\n    format: combine(\n        colorize(),\n        json(),\n        timestamp({\n            format: 'YY-MM-DD HH:mm:ss'\n        }),\n        prettyPrint()\n    ),\n    transports: transportHelpers,\n    exceptionHandlers: transportHelpers.concat([\n        new transports.File({ filename: 'log/exceptions.log' }),\n    ])\n});\n\nexport default logger;\n"],"file":"index.js"}