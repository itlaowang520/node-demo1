{"version":3,"sources":["../../../src/controllers/monitor/getItem.js"],"names":["getMonitorItemController","context","next","monitorId","request","query","throw","Error","MonitorModel","getItemById","monitor","message","body","code"],"mappings":";;;;;;;;;;;;;;;AAAA;;SAEeA,wB;;;;;wFAAf,iBAAwCC,OAAxC,EAAiDC,IAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AACQC,YAAAA,SADR,GACoBF,OAAO,CAACG,OAAR,CAAgBC,KAAhB,CAAsBF,SAD1C;;AAEI,gBAAI,CAACA,SAAL,EAAgB;AACZF,cAAAA,OAAO,CAACK,KAAR,CAAc,IAAIC,KAAJ,CAAU,aAAV,CAAd;AACH;;AAJL;AAAA;AAAA,mBAOwBC,iBAAaC,WAAb,CAAyBN,SAAzB,CAPxB;;AAAA;AAOQO,YAAAA,OAPR;AAAA;AAAA;;AAAA;AAAA;AAAA;AASQ,wBAAEC,OAAF,GAAY,cAAZ;AACAV,YAAAA,OAAO,CAACK,KAAR;;AAVR;AAYI,gBAAI,CAACI,OAAL,EAAc;AACVT,cAAAA,OAAO,CAACK,KAAR,CAAc,IAAIC,KAAJ,CAAU,gBAAV,CAAd;AACH;;AACDN,YAAAA,OAAO,CAACW,IAAR,mCACOF,OADP;AAEIG,cAAAA,IAAI,EAAE;AAFV;AAIAX,YAAAA,IAAI;;AAnBR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;eAsBeF,wB","sourcesContent":["import MonitorModel from '../../models/monitor';\n\nasync function getMonitorItemController(context, next) {\n    let monitorId = context.request.query.monitorId;\n    if (!monitorId) {\n        context.throw(new Error('缺少monitorId'));\n    }\n    let monitor;\n    try {\n        monitor = await MonitorModel.getItemById(monitorId);\n    } catch (e) {\n        e.message = '获取monitor失败！';\n        context.throw(e);\n    }\n    if (!monitor) {\n        context.throw(new Error('找不到对应的monitor!'));\n    }\n    context.body = {\n        ...monitor,\n        code: 0,\n    };\n    next();\n}\n\nexport default getMonitorItemController;\n"],"file":"getItem.js"}