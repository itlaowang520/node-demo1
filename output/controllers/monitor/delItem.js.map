{"version":3,"sources":["../../../src/controllers/monitor/delItem.js"],"names":["deleteItemController","context","next","request","body","monitorId","throw","Error","MonitorModel","deleteItemById","deleteResult","message","value","code"],"mappings":";;;;;;;;;;;;;AAAA;;SAEeA,oB;;;;;oFAAf,iBAAoCC,OAApC,EAA6CC,IAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AACI,gBAAI,CAACD,OAAO,CAACE,OAAR,CAAgBC,IAAhB,CAAqBC,SAA1B,EAAqC;AACjCJ,cAAAA,OAAO,CAACK,KAAR,CAAc,IAAIC,KAAJ,CAAU,aAAV,CAAd;AACH;;AAHL;AAAA;AAAA,mBAM6BC,iBAAaC,cAAb,CAA4BR,OAAO,CAACE,OAAR,CAAgBC,IAAhB,CAAqBC,SAAjD,CAN7B;;AAAA;AAMQK,YAAAA,YANR;AAAA;AAAA;;AAAA;AAAA;AAAA;AAQQ,wBAAEC,OAAF,GAAY,cAAZ;AACAV,YAAAA,OAAO,CAACK,KAAR;;AATR;AAWI,gBAAII,YAAY,CAACE,KAAjB,EAAwB;AACpBX,cAAAA,OAAO,CAACG,IAAR,GAAe;AACXS,gBAAAA,IAAI,EAAE,CADK;AAEXF,gBAAAA,OAAO,EAAE;AAFE,eAAf;AAIH,aALD,MAKO;AACHV,cAAAA,OAAO,CAACK,KAAR,CAAc,IAAIC,KAAJ,CAAU,aAAV,CAAd;AACH;;AACDL,YAAAA,IAAI;;AAnBR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;eAsBeF,oB","sourcesContent":["import MonitorModel from '../../models/monitor';\n\nasync function deleteItemController(context, next) {\n    if (!context.request.body.monitorId) {\n        context.throw(new Error('缺少monitorId'));\n    }\n    let deleteResult;\n    try {\n        deleteResult = await MonitorModel.deleteItemById(context.request.body.monitorId);\n    } catch (e) {\n        e.message = '删除monitor失败！';\n        context.throw(e);\n    }\n    if (deleteResult.value) {\n        context.body = {\n            code: 0,\n            message: '删除成功'\n        };\n    } else {\n        context.throw(new Error('没有此monitor!'));\n    }\n    next();\n}\n\nexport default deleteItemController;\n"],"file":"delItem.js"}